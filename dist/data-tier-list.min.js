const OPTIMIZATION_MAP_KEY=Symbol("optimization.map.key");class DataTierItemTemplate extends HTMLTemplateElement{get defaultTieTarget(){return"items"}set items(t){if(!Array.isArray(t))return;const e=this.parentNode,a=this.content.firstElementChild.dataset,i=t.length;let r,l;(l=a.dtListItemAid)||(l=(new Date).getTime(),a.dtListItemAid=l);const n=e.querySelectorAll('[data-dt-list-item-aid="'+l+'"]');let s=n.length;if(s>i)for(;s>i;)e.removeChild(n[--s]);s<i&&(r=DataTierItemTemplate.extractControllerParameters(this.dataset.tie),DataTierItemTemplate.insertNewContent(e,this,r,s,i))}static extractControllerParameters(t){let e;if(t&&(!(e=t.trim().split(/\s+=>\s+/))||!e.length))throw new Error("invalid DataTier configuration");return e}static insertNewContent(t,e,a,i,r){const l=a[0]+(a[0].indexOf(":")<0?":":"."),n=DataTierItemTemplate.getOptimizationMap(e).index,s=e.content;let o,m,d,c,p,T=null,g=i;for(;g<r;g++){for(c=(o=s.cloneNode(!0)).querySelectorAll("*"),m=n.length;m--;)(p=c[d=n[m]]).dataset.tie=p.dataset.tie.replace(/item:/g,l+g+".").replace(/item\s*=/g,l+g+"=").replace(/item(?![.a-zA-Z0-9])/g,l+g);g===i?T=o:T.appendChild(o)}t.appendChild(T)}static getOptimizationMap(t){let e=t[OPTIMIZATION_MAP_KEY];if(!e){e={index:[]};const a=t.content.querySelectorAll("*");let i,r=a.length;for(;r--;)(i=a[r]).dataset&&"string"==typeof i.dataset.tie&&e.index.push(r);t[OPTIMIZATION_MAP_KEY]=e}return e}}customElements.get("data-tier-list")||customElements.define("data-tier-list",DataTierItemTemplate,{extends:"template"});